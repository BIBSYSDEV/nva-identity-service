plugins {
    id 'nva.identity.service.java-library-conventions'
    id 'nva.identity.service.dynamodblocal'
}

dependencies {

    implementation project(":user-access-internal-model")
    implementation project(":user-access-commons")
    implementation project(":user-access-errors")
    implementation project(":user-access-public-model")
    implementation project(":user-access-rights")

    implementation(libs.aws.dynamodb) {
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'
        exclude group: 'com.fasterxml.jackson.datatype', module: 'jackson-datatype-jdk8'
        exclude group: 'com.fasterxml.jackson.datatype', module: 'jackson-datatype-jsr310'
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'
        exclude group: 'com.fasterxml.jackson.module', module: 'jackson-module-parameter-names'
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-annotations'
    }

    implementation(libs.nva.apigateway) {
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-core'
        exclude group: 'com.fasterxml.jackson.datatype', module: 'jackson-datatype-jdk8'
        exclude group: 'com.fasterxml.jackson.datatype', module: 'jackson-datatype-jsr310'
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-databind'
        exclude group: 'com.fasterxml.jackson.module', module: 'jackson-module-parameter-names'
        exclude group: 'com.fasterxml.jackson.core', module: 'jackson-annotations'
    }

    implementation libs.slf4j
    implementation libs.bundles.aws.lambda
    implementation libs.bundles.jackson

    testImplementation project(':user-access-testing')

}

test{
    environment "API_HOST", "api.dev.aws.nva.unit.no"
}